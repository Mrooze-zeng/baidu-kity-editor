!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=36)}([function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports){function Class(){}function checkBaseConstructorCall(t,e){var n=t.toString();if(!/this\.callBase/.test(n))throw new Error(e+" : 类构造函数没有调用父类的构造函数！为了安全，请调用父类的构造函数")}exports.Class=Class,Class.__KityClassName="Class",Class.prototype.base=function(t){var e=arguments.callee.caller,n=e.__KityMethodClass.__KityBaseClass.prototype[t];return n.apply(this,Array.prototype.slice.call(arguments,1))},Class.prototype.callBase=function(){var t=arguments.callee.caller,e=t.__KityMethodClass.__KityBaseClass.prototype[t.__KityMethodName];return e.apply(this,arguments)},Class.prototype.mixin=function(t){var e=arguments.callee.caller,n=e.__KityMethodClass.__KityMixins;if(!n)return this;var i=n[t];return i.apply(this,Array.prototype.slice.call(arguments,1))},Class.prototype.callMixin=function(){var t=arguments.callee.caller,e=t.__KityMethodName,n=t.__KityMethodClass.__KityMixins;if(!n)return this;var i=n[e];if("constructor"==e){for(var r=0,s=i.length;r<s;r++)i[r].call(this);return this}return i.apply(this,arguments)},Class.prototype.pipe=function(t){return"function"==typeof t&&t.call(this,this),this},Class.prototype.getType=function(){return this.__KityClassName},Class.prototype.getClass=function(){return this.constructor};var KITY_INHERIT_FLAG="__KITY_INHERIT_FLAG_"+ +new Date;function inherit(constructor,BaseClass,classname){var KityClass=eval("(function "+classname+"( __inherit__flag ) {if( __inherit__flag != KITY_INHERIT_FLAG ) {KityClass.__KityConstructor.apply(this, arguments);}this.__KityClassName = KityClass.__KityClassName;})");for(var methodName in KityClass.__KityConstructor=constructor,KityClass.prototype=new BaseClass(KITY_INHERIT_FLAG),BaseClass.prototype)BaseClass.prototype.hasOwnProperty(methodName)&&0!==methodName.indexOf("__Kity")&&(KityClass.prototype[methodName]=BaseClass.prototype[methodName]);return KityClass.prototype.constructor=KityClass,KityClass}function mixin(t,e){if(!1==e instanceof Array)return t;var n,i,r,s=e.length;for(t.__KityMixins={constructor:[]},n=0;n<s;n++)for(r in i=e[n].prototype)!1!==i.hasOwnProperty(r)&&0!==r.indexOf("__Kity")&&("constructor"===r?t.__KityMixins.constructor.push(i[r]):t.prototype[r]=t.__KityMixins[r]=i[r]);return t}function extend(t,e){for(var n in e.__KityClassName&&(e=e.prototype),e)if(e.hasOwnProperty(n)&&n.indexOf("__Kity")&&"constructor"!=n){var i=t.prototype[n]=e[n];i.__KityMethodClass=t,i.__KityMethodName=n}return t}exports.createClass=function(t,e){var n,i,r;return 1===arguments.length&&(e=arguments[0],t="AnonymousClass"),r=e.base||Class,e.hasOwnProperty("constructor")?(n=e.constructor,r!=Class&&checkBaseConstructorCall(n,t)):n=function(){this.callBase.apply(this,arguments),this.callMixin.apply(this,arguments)},(i=mixin(i=inherit(n,r,t),e.mixins)).__KityClassName=n.__KityClassName=t,i.__KityBaseClass=n.__KityBaseClass=r,i.__KityMethodName=n.__KityMethodName="constructor",i.__KityMethodClass=n.__KityMethodClass=i,delete e.mixins,delete e.constructor,delete e.base,i=extend(i,e)},exports.extendClass=extend}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e,n){var i;void 0===(i=function(){var t={each:function(t,e,n){if(null!==t)if(t.length===+t.length){for(var i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return!1}else for(var s in t)if(t.hasOwnProperty(s)&&!1===e.call(n,t[s],s,t))return!1},extend:function(t){for(var e=arguments,n=!!this.isBoolean(e[e.length-1])&&e[e.length-1],i=this.isBoolean(e[e.length-1])?e.length-1:e.length,r=1;r<i;r++){var s=e[r];for(var o in s)n&&t.hasOwnProperty(o)||(t[o]=s[o])}return t},deepExtend:function(t,e){for(var n=arguments,i=!!this.isBoolean(n[n.length-1])&&n[n.length-1],r=this.isBoolean(n[n.length-1])?n.length-1:n.length,s=1;s<r;s++){var o=n[s];for(var a in o)i&&t.hasOwnProperty(a)||(this.isObject(t[a])&&this.isObject(o[a])?this.deepExtend(t[a],o[a],i):t[a]=o[a])}return t},clone:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},copy:function(t){return"object"!=typeof t?t:"function"==typeof t?null:JSON.parse(JSON.stringify(t))},queryPath:function(t,e){for(var n=t.split("."),i=0,r=e,s=n.length;i<s;){if(!(n[i]in r))return;if(r=r[n[i]],++i>=s||void 0===r)return r}},getValue:function(t,e){return void 0!==t?t:e},flatten:function(e){var n,i=[],r=e.length;for(n=0;n<r;n++)e[n]instanceof Array?i=i.concat(t.flatten(e[n])):i.push(e[n]);return i},paralle:function(e,n,i){var r,s,o,a;if(e instanceof Array){for(a=[],s=0;s<e.length;s++)a.push(t.paralle(e[s],n[s],i));return a}if(e instanceof Object){if((r=e.getClass&&e.getClass())&&r.parse)e=e.valueOf(),n=n.valueOf(),a=t.paralle(e,n,i),a=r.parse(a);else for(o in a={},e)e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(a[o]=t.paralle(e[o],n[o],i));return a}return!1===isNaN(parseFloat(e))?i(e,n):a},parallelize:function(e){return function(n,i){return t.paralle(n,i,e)}}};return t.each(["String","Function","Array","Number","RegExp","Object","Boolean"],(function(e){t["is"+e]=function(t){return Object.prototype.toString.apply(t)=="[object "+e+"]"}})),t}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(5),s=n(1),o=n(16),a=n(17),u=n(41),h=n(9),c=(n(24),Array.prototype.slice),l=n(12);return n(0).createClass("Shape",{mixins:[o,a,u],constructor:function(t){this.node=r.createNode(t),this.node.shape=this,this.transform={translate:null,rotate:null,scale:null,matrix:null},this.callMixin()},getId:function(){return this.node.id},setId:function(t){return this.node.id=t,this},getNode:function(){return this.node},getBoundaryBox:function(){var t;try{t=this.node.getBBox()}catch(e){t={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}return new l(t)},getRenderBox:function(t){var e=this.getBoundaryBox();return this.getTransform(t).transformBox(e)},getWidth:function(){return this.getRenderBox().width},getHeight:function(){return this.getRenderBox().height},getSize:function(){var t=this.getRenderBox();return delete t.x,delete t.y,t},setOpacity:function(t){return this.node.setAttribute("opacity",t),this},getOpacity:function(){var t=this.node.getAttribute("opacity");return t?+t:1},setVisible:function(t){return t?this.node.removeAttribute("display"):this.node.setAttribute("display","none"),this},getVisible:function(){this.node.getAttribute("display")},hasAncestor:function(t){for(var e=this.container;e;){if(e===t)return!0;e=e.container}return!1},getTransform:function(t){return h.getCTM(this,t)},clearTransform:function(){return this.node.removeAttribute("transform"),this.transform={translate:null,rotate:null,scale:null,matrix:null},this.trigger("shapeupdate",{type:"transform"}),this},_applyTransform:function(){var t=this.transform,e=[];return t.translate&&e.push(["translate(",t.translate,")"]),t.rotate&&e.push(["rotate(",t.rotate,")"]),t.scale&&e.push(["scale(",t.scale,")"]),t.matrix&&e.push(["matrix(",t.matrix,")"]),this.node.setAttribute("transform",s.flatten(e).join(" ")),this},setMatrix:function(t){return this.transform.matrix=t,this._applyTransform()},setTranslate:function(t){return this.transform.translate=null!==t&&c.call(arguments)||null,this._applyTransform()},setRotate:function(t){return this.transform.rotate=null!==t&&c.call(arguments)||null,this._applyTransform()},setScale:function(t){return this.transform.scale=null!==t&&c.call(arguments)||null,this._applyTransform()},translate:function(t,e){var n=this.transform.matrix||new h;return void 0===e&&(e=0),this.transform.matrix=n.translate(t,e),this._applyTransform()},rotate:function(t){var e=this.transform.matrix||new h;return this.transform.matrix=e.rotate(t),this._applyTransform()},scale:function(t,e){var n=this.transform.matrix||new h;return void 0===e&&(e=t),this.transform.matrix=n.scale(t,e),this._applyTransform()},skew:function(t,e){var n=this.transform.matrix||new h;return void 0===e&&(e=t),this.transform.matrix=n.skew(t,e),this._applyTransform()},stroke:function(t,e){return t&&t.stroke?t.stroke(this):t?(this.node.setAttribute("stroke",t.toString()),e&&this.node.setAttribute("stroke-width",e)):null===t&&this.node.removeAttribute("stroe"),this},fill:function(t){return t&&this.node.setAttribute("fill",t.toString()),null===t&&this.node.removeAttribute("fill"),this},setAttr:function(t,e){var n=this;return s.isObject(t)&&s.each(t,(function(t,e){n.setAttr(e,t)})),null==e||""===e?this.node.removeAttribute(t):this.node.setAttribute(t,e),this},getAttr:function(t){return this.node.getAttribute(t)}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(1),s=n(0).createClass,o=n(2),a=n(5),u=n(14),h=Array.prototype.slice,c=(r.flatten,s("PathDrawer",{constructor:function(t){this.segment=[],this.path=t,this.__clear=!1},getPath:function(){return this.path},redraw:function(){return this._transation=this._transation||[],this.clear()},done:function(){var t=this._transation;return this._transation=null,this.push(t),this},clear:function(){return this._transation?this._transation=[]:this.path.setPathData("M 0 0"),this._clear=!0,this},push:function(){var t,e=h.call(arguments);return this._transation?(this._transation.push(e),this):(this._clear?(t="",this._clear=!1):t=this.path.getPathData(),t=t||"",this.path.setPathData(t+u.pathToString(e)),this)},moveTo:function(t,e){return this.push("M",h.call(arguments))},moveBy:function(t,e){return this.push("m",h.call(arguments))},lineTo:function(t,e){return this.push("L",h.call(arguments))},lineBy:function(t,e){return this.push("l",h.call(arguments))},arcTo:function(t,e,n,i,r,s,o){return this.push("A",h.call(arguments))},arcBy:function(t,e,n,i,r,s,o){return this.push("a",arguments)},carcTo:function(t,e,n,i,r){return this.push("A",[t,t,0].concat(h.call(arguments,1)))},carcBy:function(t,e,n,i,r){return this.push("a",[t,t,0].concat(h.call(arguments,1)))},bezierTo:function(t,e,n,i,r,s){return this.push("C",h.call(arguments))},bezierBy:function(t,e,n,i,r,s){return this.push("c",h.call(arguments))},close:function(){return this.push("z")}}));return s("Path",{base:o,constructor:function(t){this.callBase("path"),t&&this.setPathData(t),this.node.setAttribute("fill",a.defaults.fill),this.node.setAttribute("stroke",a.defaults.stroke)},setPathData:function(t){return t=t||"M0,0",this.pathdata=u.pathToString(t),this.node.setAttribute("d",this.pathdata),this.trigger("shapeupdate",{type:"pathdata"}),this},getPathData:function(){return this.pathdata||""},getDrawer:function(){return new c(this)},isClosed:function(){var t=this.getPathData();return!!~t.indexOf("z")||!!~t.indexOf("Z")}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(0).createClass("Point",{constructor:function(t,e){this.x=t||0,this.y=e||0},offset:function(t,e){return 1==arguments.length&&(e=t.y,t=t.x),new r(this.x+t,this.y+e)},valueOf:function(){return[this.x,this.y]},toString:function(){return this.valueOf().join(" ")},spof:function(){return new r(.5+(0|this.x),.5+(0|this.y))},round:function(){return new r(0|this.x,0|this.y)},isOrigin:function(){return 0===this.x&&0===this.y}});return r.fromPolar=function(t,e,n){return"rad"!=n&&(e=e/180*Math.PI),new r(t*Math.cos(e),t*Math.sin(e))},r.parse=function(t){return t?t instanceof r?t:"string"==typeof t?r.parse(t.split(/\s*[\s,]\s*/)):"0"in t&&"1"in t?new r(t[0],t[1]):void 0:new r},r}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,n){var i=document,r=0,s={createNode:function(t){var e=i.createElementNS(s.ns,t);return e.id="kity_"+t+"_"+r++,e},defaults:{stroke:"none",fill:"none"},xlink:"http://www.w3.org/1999/xlink",ns:"http://www.w3.org/2000/svg"};return s}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(10),s=n(1),o=n(0).createClass("ShapeContainer",{base:r,isShapeContainer:!0,handleAdd:function(t,e){var n=this.getShapeNode();n.insertBefore(t.node,n.childNodes[e]||null),t.trigger("add",{container:this}),t.notifyTreeModification&&t.notifyTreeModification("treeadd",this)},handleRemove:function(t,e){this.getShapeNode().removeChild(t.node),t.trigger("remove",{container:this}),t.notifyTreeModification&&t.notifyTreeModification("treeremove",this)},notifyTreeModification:function(t,e){this.eachItem((function(n,i){i.notifyTreeModification&&i.notifyTreeModification(t,e),i.trigger(t,{container:e})}))},getShape:function(t){return this.getItem(t)},addShape:function(t,e){return this.addItem(t,e)},put:function(t){return this.addShape(t),t},appendShape:function(t){return this.addShape(t)},prependShape:function(t){return this.addShape(t,0)},replaceShape:function(t,e){var n=this.indexOf(e);if(-1!==n)return this.removeShape(n),this.addShape(t,n),this},addShapeBefore:function(t,e){var n=this.indexOf(e);return this.addShape(t,n)},addShapeAfter:function(t,e){var n=this.indexOf(e);return this.addShape(t,-1===n?void 0:n+1)},addShapes:function(t){return this.addItems(t)},removeShape:function(t){return this.removeItem(t)},getShapes:function(){return this.getItems()},getShapesByType:function(t){var e=[];return function n(i){t.toLowerCase()==i.getType().toLowerCase()&&e.push(i),i.isShapeContainer&&s.each(i.getShapes(),(function(t){n(t)}))}(this),e},getShapeById:function(t){return this.getShapeNode().getElementById(t).shape},arrangeShape:function(t,e){return this.removeShape(t).addShape(t,e)},getShapeNode:function(){return this.shapeNode||this.node}}),a=n(2);return n(0).extendClass(a,{bringTo:function(t){return this.container.arrangeShape(this,t),this},bringFront:function(){return this.bringTo(this.container.indexOf(this)+1)},bringBack:function(){return this.bringTo(this.container.indexOf(this)-1)},bringTop:function(){return this.container.removeShape(this).addShape(this),this},bringRear:function(){return this.bringTo(0)},bringRefer:function(t,e){return t.container&&(this.remove&&this.remove(),t.container.addShape(this,t.container.indexOf(t)+(e||0))),this},bringAbove:function(t){return this.bringRefer(t)},bringBelow:function(t){return this.bringRefer(t,1)},replaceBy:function(t){return this.container&&(t.bringAbove(this),this.remove()),this}}),o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){function e(t){var e=parseFloat(t,10);return/ms/.test(t)?e:/s/.test(t)?1e3*e:/min/.test(t)?60*e*1e3:e}var i=n(31),r=n(32),s=n(0).createClass("Animator",{constructor:function(t,e,n){if(1==arguments.length){var i=arguments[0];this.beginValue=i.beginValue,this.finishValue=i.finishValue,this.setter=i.setter}else this.beginValue=t,this.finishValue=e,this.setter=n},start:function(t,n,i,r,s){2===arguments.length&&"object"==typeof n&&(i=n.easing,r=n.delay,s=n.callback,n=n.duration),4===arguments.length&&"function"==typeof r&&(s=r,r=0);var o=this.create(t,n,i,s);return(r=e(r))>0?setTimeout((function(){o.play()}),r):o.play(),o},create:function(t,n,o,a){var u;return n=n&&e(n)||s.DEFAULT_DURATION,"string"==typeof(o=o||s.DEFAULT_EASING)&&(o=r[o]),u=new i(this,t,n,o),"function"==typeof a&&u.on("finish",a),u},reverse:function(){return new s(this.finishValue,this.beginValue,this.setter)}});s.DEFAULT_DURATION=300,s.DEFAULT_EASING="linear";var o=n(2);return n(0).extendClass(o,{animate:function(t,e,n,i,r){var s=this._KityAnimateQueue=this._KityAnimateQueue||[],o=t.create(this,e,n,r);return o.on("finish",(function(){s.shift(),s.length&&setTimeout(s[0].t.play.bind(s[0].t),s[0].d)})),s.push({t:o,d:i}),1==s.length&&setTimeout(o.play.bind(o),i),this},timeline:function(){return this._KityAnimateQueue[0].t},stop:function(){var t=this._KityAnimateQueue;if(t)for(;t.length;)t.shift().t.stop();return this}}),s}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(5),s=n(0).createClass("Effect",{constructor:function(t){this.node=r.createNode(t)},getId:function(){return this.node.id},setId:function(t){return this.node.id=t,this},set:function(t,e){return this.node.setAttribute(t,e),this},get:function(t){return this.node.getAttribute(t)},getNode:function(){return this.node},toString:function(){return this.node.getAttribute("result")||""}});return n(1).extend(s,{NAME_GAUSSIAN_BLUR:"feGaussianBlur",NAME_OFFSET:"feOffset",NAME_COMPOSITE:"feComposite",NAME_COLOR_MATRIX:"feColorMatrix",NAME_CONVOLVE_MATRIX:"feConvolveMatrix",INPUT_SOURCE_GRAPHIC:"SourceGraphic",INPUT_SOURCE_ALPHA:"SourceAlpha",INPUT_BACKGROUND_IMAGE:"BackgroundImage",INPUT_BACKGROUND_ALPHA:"BackgroundAlpha",INPUT_FILL_PAINT:"FillPaint",INPUT_STROKE_PAINT:"StrokePaint"}),s}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(1),s=n(12),o=/matrix\s*\((.+)\)/i,a=n(4);function u(t,e){return{a:e.a*t.a+e.c*t.b,b:e.b*t.a+e.d*t.b,c:e.a*t.c+e.c*t.d,d:e.b*t.c+e.d*t.d,e:e.a*t.e+e.c*t.f+e.e,f:e.b*t.e+e.d*t.f+e.f}}function h(t){return t*Math.PI/180}var c=n(0).createClass("Matrix",{constructor:function(){arguments.length?this.setMatrix.apply(this,arguments):this.setMatrix(1,0,0,1,0,0)},translate:function(t,e){return this.m=u(this.m,{a:1,c:0,e:t,b:0,d:1,f:e}),this},rotate:function(t){var e=h(t),n=Math.sin(e),i=Math.cos(e);return this.m=u(this.m,{a:i,c:-n,e:0,b:n,d:i,f:0}),this},scale:function(t,e){return void 0===e&&(e=t),this.m=u(this.m,{a:t,c:0,e:0,b:0,d:e,f:0}),this},skew:function(t,e){void 0===e&&(e=t);var n=Math.tan(h(t)),i=Math.tan(h(e));return this.m=u(this.m,{a:1,c:n,e:0,b:i,d:1,f:0}),this},inverse:function(){var t,e=this.m,n=e.a,i=e.b,r=e.c,s=e.d,o=e.e,a=e.f;return new c(s/(t=n*s-i*r),-i/t,-r/t,n/t,(r*a-o*s)/t,(i*o-n*a)/t)},setMatrix:function(t,e,n,i,s,o){return 1===arguments.length?this.m=r.clone(arguments[0]):this.m={a:t,b:e,c:n,d:i,e:s,f:o},this},getMatrix:function(){return r.clone(this.m)},getTranslate:function(){var t=this.m;return{x:t.e/t.a,y:t.f/t.d}},mergeMatrix:function(t){return new c(u(this.m,t.m))},merge:function(t){return this.mergeMatrix(t)},toString:function(){return this.valueOf().join(" ")},valueOf:function(){var t=this.m;return[t.a,t.b,t.c,t.d,t.e,t.f]},equals:function(t){var e=this.m,n=t.m;return e.a==n.a&&e.b==n.b&&e.c==n.c&&e.d==n.d&&e.e==n.e&&e.f==n.f},transformPoint:function(){return c.transformPoint.apply(null,[].slice.call(arguments).concat([this.m]))},transformBox:function(t){return c.transformBox(t,this.m)},clone:function(){return new c(this.m)}});return c.parse=function(t){var e,n=parseFloat;if(t instanceof Array)return new c({a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]});if(e=o.exec(t)){var i=e[1].split(",");return 6!=i.length&&(i=e[1].split(" ")),new c({a:n(i[0]),b:n(i[1]),c:n(i[2]),d:n(i[3]),e:n(i[4]),f:n(i[5])})}return new c},c.transformPoint=function(t,e,n){return 2===arguments.length&&(n=e,e=t.y,t=t.x),new a(n.a*t+n.c*e+n.e,n.b*t+n.d*e+n.f)},c.transformBox=function(t,e){for(var n,i,o=Number.MAX_VALUE,a=-Number.MAX_VALUE,u=Number.MAX_VALUE,h=-Number.MAX_VALUE,l=[[t.x,t.y],[t.x+t.width,t.y],[t.x,t.y+t.height],[t.x+t.width,t.y+t.height]],f=[];n=l.pop();)i=c.transformPoint(n[0],n[1],e),f.push(i),o=Math.min(o,i.x),a=Math.max(a,i.x),u=Math.min(u,i.y),h=Math.max(h,i.y);return t=new s({x:o,y:u,width:a-o,height:h-u}),r.extend(t,{closurePoints:f}),t},c.getCTM=function(t,e){var n={a:1,b:0,c:0,d:1,e:0,f:0},i=t.shapeNode||t.node;function r(t,e){var n;try{n=e.getScreenCTM().inverse()}catch(t){throw new Error("Can not inverse source element' ctm.")}return n.multiply(t.getScreenCTM())}switch(e=e||"parent"){case"screen":n=i.getScreenCTM();break;case"doc":case"paper":n=i.getCTM();break;case"view":case"top":t.getPaper()&&(n=void 0!==i.getTransformToElement?i.getTransformToElement(t.getPaper().shapeNode):r(i,t.getPaper().shapeNode));break;case"parent":t.node.parentNode&&(n=void 0!==i.getTransformToElement?i.getTransformToElement(t.node.parentNode):r(i,t.node.parentNode));break;default:e.node&&(n=void 0!==i.getTransformToElement?i.getTransformToElement(e.shapeNode||e.node):r(i,e.shapeNode||e.node))}return n?new c(n.a,n.b,n.c,n.d,n.e,n.f):new c},c}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){function r(){return this.container.removeItem(this),this}return n(0).createClass("Container",{getItems:function(){return this.items||(this.items=[])},getItem:function(t){return this.getItems()[t]},getFirstItem:function(){return this.getItem(0)},getLastItem:function(){return this.getItem(this.getItems().length-1)},indexOf:function(t){return this.getItems().indexOf(t)},eachItem:function(t){var e,n=this.getItems(),i=n.length;for(e=0;e<i;e++)t.call(this,e,n[e]);return this},addItem:function(t,e,n){var i=this.getItems(),s=i.length;return~i.indexOf(t)||(e>=0&&e<s||(e=s),i.splice(e,0,t),"object"==typeof t&&(t.container=this,t.remove=r),this.handleAdd(t,e),n||this.onContainerChanged("add",[t])),this},addItems:function(t){for(var e=0,n=t.length;e<n;e++)this.addItem(t[e],-1,!0);return this.onContainerChanged("add",t),this},setItems:function(t){return this.clear().addItems(t)},appendItem:function(t){return this.addItem(t)},prependItem:function(t){return this.addItem(t,0)},removeItem:function(t,e){if("number"!=typeof t)return this.removeItem(this.indexOf(t));var n=this.getItems(),i=(n.length,n[t]);return void 0===i||(n.splice(t,1),i.container&&delete i.container,i.remove&&delete i.remove,this.handleRemove(i,t),e||this.onContainerChanged("remove",[i])),this},clear:function(){for(var t,e=[];t=this.getFirstItem();)e.push(t),this.removeItem(0,!0);return this.onContainerChanged("remove",e),this},onContainerChanged:function(t,e){},handleAdd:function(t,e){},handleRemove:function(t,e){}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(1),s=n(25),o={},a=n(0).createClass("Color",{constructor:function(){var t=null;"string"==typeof arguments[0]?null===(t=o.parseToValue(arguments[0]))&&(t={r:0,g:0,b:0,h:0,s:0,l:0,a:1}):(t={r:0|arguments[0],g:0|arguments[1],b:0|arguments[2],a:void 0===arguments[3]?1:parseFloat(arguments[3])},t=o.overflowFormat(t),t=r.extend(t,o.rgbValueToHslValue(t))),this._color=t},set:function(t,e){if(!a._MAX_VALUE[t])throw new Error("Color set(): Illegal parameter");return"a"!==t&&(e=Math.floor(e)),"h"==t&&(e=(e+360)%360),this._color[t]=Math.max(a._MIN_VALUE[t],Math.min(a._MAX_VALUE[t],e)),-1!=="rgb".indexOf(t)?this._color=r.extend(this._color,o.rgbValueToHslValue(this._color)):-1!=="hsl".indexOf(t)&&(this._color=r.extend(this._color,o.hslValueToRGBValue(this._color))),this},inc:function(t,e){return e=this.get(t)+e,"h"==t?e=(e+360)%360:(e=Math.min(a._MAX_VALUE[t],e),e=Math.max(a._MIN_VALUE[t],e)),this.clone().set(t,e)},dec:function(t,e){return this.inc(t,-e)},clone:function(){return new a(this.toRGBA())},get:function(t){return a._MAX_VALUE[t]?this._color[t]:null},getValues:function(){return r.clone(this._color)},valueOf:function(){return this.getValues()},toRGB:function(){return o.toString(this._color,"rgb")},toRGBA:function(){return o.toString(this._color,"rgba")},toHEX:function(){return o.toString(this._color,"hex")},toHSL:function(){return o.toString(this._color,"hsl")},toHSLA:function(){return o.toString(this._color,"hsla")},toString:function(){return 1===this._color.a?this.toRGB():this.toRGBA()}});return r.extend(a,{_MAX_VALUE:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},_MIN_VALUE:{r:0,g:0,b:0,h:0,s:0,l:0,a:0},R:"r",G:"g",B:"b",H:"h",S:"s",L:"l",A:"a",parse:function(t){var e;return r.isString(t)&&(e=o.parseToValue(t)),r.isObject(t)&&"r"in t&&(e=t),null===e?new a:new a(e.r,e.g,e.b,e.a)},createHSL:function(t,e,n){return a.createHSLA(t,e,n,1)},createHSLA:function(t,e,n,i){var r=null;return r=["hsla("+t,e+="%",n+="%",i+")"],a.parse(r.join(", "))},createRGB:function(t,e,n){return a.createRGBA(t,e,n,1)},createRGBA:function(t,e,n,i){return new a(t,e,n,i)}}),r.extend(o,{parseToValue:function(t){var e={};if(t=s.EXTEND_STANDARD[t]||s.COLOR_STANDARD[t]||t,/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(t))e=o.hexToValue(t);else if(/^(rgba?)/i.test(t))e=o.rgbaToValue(t);else{if(!/^(hsla?)/i.test(t))return null;e=o.hslaToValue(t)}return o.overflowFormat(e)},hexToValue:function(t){var e={};return/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(t)?(t=RegExp.$1.split(""),r.each(["r","g","b"],(function(n,i){3===t.length?e[n]=o.toNumber(t[i]+t[i]):e[n]=o.toNumber(t[2*i]+t[2*i+1])})),(e=r.extend(e,o.rgbValueToHslValue(e))).a=1,e):null},rgbaToValue:function(t){var e={},n=!1;return/^(rgba?)/i.test(t)?(n=4===RegExp.$1.length,t=t.replace(/^rgba?/i,"").replace(/\s+/g,"").replace(/[^0-9,.]/g,"").split(","),r.each(["r","g","b"],(function(n,i){e[n]=0|t[i]})),(e=r.extend(e,o.rgbValueToHslValue(e))).a=n?parseFloat(t[3]):1,e):null},hslaToValue:function(t){var e={},n=!1;return/^(hsla?)/i.test(t)?(n=4===RegExp.$1.length,t=t.replace(/^hsla?/i,"").replace(/\s+/g,"").replace(/[^0-9,.]/g,"").split(","),e.h=0|t[0],e.s=0|t[1],e.l=0|t[2],e=r.extend(e,o.hslValueToRGBValue(e)),(e=o.hslValueToRGBValue(e)).a=n?parseFloat(t[3]):1,e):null},hslValueToRGBValue:function(t){function e(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+6*(e-t)*n:2*n<1?e:3*n<2?t+6*(2/3-n)*(e-t):t}var n=null,i=null,s={};return(t=r.extend({},t)).h=t.h/360,t.s=t.s/100,t.l=t.l/100,0===t.s?s.r=s.g=s.b=t.l:(n=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,i=2*t.l-n,s.r=e(i,n,t.h+1/3),s.g=e(i,n,t.h),s.b=e(i,n,t.h-1/3)),s.r=Math.min(Math.round(255*s.r),255),s.g=Math.min(Math.round(255*s.g),255),s.b=Math.min(Math.round(255*s.b),255),s},rgbValueToHslValue:function(t){var e,n,i={};return(t=r.extend({},t)).r=t.r/255,t.g=t.g/255,t.b=t.b/255,(e=Math.max(t.r,t.g,t.b))===(n=Math.min(t.r,t.g,t.b))?i.h=0:e===t.r?t.g>=t.b?i.h=60*(t.g-t.b)/(e-n):i.h=60*(t.g-t.b)/(e-n)+360:e===t.g?i.h=60*(t.b-t.r)/(e-n)+120:e===t.b&&(i.h=60*(t.r-t.g)/(e-n)+240),i.l=(e+n)/2,0===i.l||e===n?i.s=0:i.l>0&&i.l<=.5?i.s=(e-n)/(e+n):i.s=(e-n)/(2-e-n),i.h=Math.round(i.h),i.s=Math.round(100*i.s),i.l=Math.round(100*i.l),i},toString:function(t,e){var n=[];return t=r.extend({},t),-1!==e.indexOf("hsl")&&(t.s+="%",t.l+="%"),"hex"!==e?(r.each(e.split(""),(function(e){n.push(t[e])})),(e+"("+n.join(", ")+")").toLowerCase()):(n.push(o.toHexValue(+t.r)),n.push(o.toHexValue(+t.g)),n.push(o.toHexValue(+t.b)),("#"+n.join("")).toLowerCase())},toNumber:function(t){return 0|Number("0x"+t)},toHexValue:function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},overflowFormat:function(t){var e=r.extend({},t);return r.each("rgba".split(""),(function(t){e.hasOwnProperty(t)&&(e[t]=Math.min(a._MAX_VALUE[t],e[t]),e[t]=Math.max(a._MIN_VALUE[t],e[t]))})),e}}),a}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(0).createClass("Box",{constructor:function(t,e,n,i){var r=arguments[0];r&&"object"==typeof r&&(t=r.x,e=r.y,n=r.width,i=r.height),n<0&&(t-=n=-n),i<0&&(e-=i=-i),this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this.left=this.x,this.right=this.x+this.width,this.top=this.y,this.bottom=this.y+this.height,this.cx=this.x+this.width/2,this.cy=this.y+this.height/2},getRangeX:function(){return[this.left,this.right]},getRangeY:function(){return[this.top,this.bottom]},merge:function(t){if(this.isEmpty())return new r(t.x,t.y,t.width,t.height);var e=Math.min(this.left,t.left),n=Math.max(this.right,t.right),i=Math.min(this.top,t.top),s=Math.max(this.bottom,t.bottom);return new r(e,i,n-e,s-i)},intersect:function(t){!t instanceof r&&(t=new r(t));var e=Math.max(this.left,t.left),n=Math.min(this.right,t.right),i=Math.max(this.top,t.top),s=Math.min(this.bottom,t.bottom);return e>n||i>s?new r:new r(e,i,n-e,s-i)},expand:function(t,e,n,i){if(arguments.length<1)return new r(this);arguments.length<2&&(e=t),arguments.length<3&&(n=t),arguments.length<4&&(i=e);var s=this.left-i,o=this.top-t,a=this.width+e+i,u=this.height+t+n;return new r(s,o,a,u)},valueOf:function(){return[this.x,this.y,this.width,this.height]},toString:function(){return this.valueOf().join(" ")},isEmpty:function(){return!this.width||!this.height}});return r.parse=function(t){return"string"==typeof t?r.parse(t.split(/[\s,]+/).map(parseFloat)):t instanceof Array?new r(t[0],t[1],t[2],t[3]):"x"in t?new r(t):null},r}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass("PointContainer",{base:n(10),constructor:function(){this.callBase()},addPoint:function(t,e){return this.addItem.apply(this,arguments)},prependPoint:function(){return this.prependItem.apply(this,arguments)},appendPoint:function(){return this.appendItem.apply(this,arguments)},removePoint:function(t){return this.removeItem.apply(this,arguments)},addPoints:function(){return this.addItems.apply(this,arguments)},setPoints:function(){return this.setItems.apply(this,arguments)},getPoint:function(){return this.getItem.apply(this,arguments)},getPoints:function(){return this.getItems.apply(this,arguments)},getFirstPoint:function(){return this.getFirstItem.apply(this,arguments)},getLastPoint:function(){return this.getLastItem.apply(this,arguments)}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){var e=n(1),i=n(4),r=n(18),s=n(9),o={},a=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?\s*)+)/gi,u=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/gi,h={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0};function c(t){var e,n,i,r,s;for(e=[],n=0;n<t.length;n++)for(r=t[n],e.push(s=[]),i=0;i<r.length;i++)s.push(r[i]);return t.isUniform&&(e.isUniform=!0),t.isAbsolute&&(e.isAbsolute=!0),t.isCurve&&(e.isCurve=!0),e}function l(t,e,n){function i(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}return function r(){var s=Array.prototype.slice.call(arguments,0),o=s.join("␀"),a=r.cache=r.cache||{},u=r.count=r.count||[];return a.hasOwnProperty(o)?(i(u,o),n?n(a[o]):a[o]):(u.length>=1e3&&delete a[u.shift()],u.push(o),a[o]=t.apply(e,s),n?n(a[o]):a[o])}}function f(t,e,n,i,r,s,o,a,u,h){var c,l,d,p,g,v,m,x,y,b,w,A,C,_,P,T,M,E,S,O,R,I,N,B,k,V,L,F,D,U=Math,H=U.PI,K=Math.abs,G=120*H/180,X=H/180*(+r||0),z=[],j=function(t,e,n){return{x:t*U.cos(n)-e*U.sin(n),y:t*U.sin(n)+e*U.cos(n)}};if(h?(b=h[0],w=h[1],x=h[2],y=h[3]):(t=(c=j(t,e,-X)).x,e=c.y,a=(c=j(a,u,-X)).x,u=c.y,U.cos(H/180*r),U.sin(H/180*r),(l=(d=(t-a)/2)*d/(n*n)+(p=(e-u)/2)*p/(i*i))>1&&(n*=l=U.sqrt(l),i*=l),g=n*n,v=i*i,x=(m=(s==o?-1:1)*U.sqrt(K((g*v-g*p*p-v*d*d)/(g*p*p+v*d*d))))*n*p/i+(t+a)/2,y=m*-i*d/n+(e+u)/2,b=U.asin(((e-y)/i).toFixed(9)),w=U.asin(((u-y)/i).toFixed(9)),(b=t<x?H-b:b)<0&&(b=2*H+b),(w=a<x?H-w:w)<0&&(w=2*H+w),o&&b>w&&(b-=2*H),!o&&w>b&&(w-=2*H)),K(A=w-b)>G&&(C=w,_=a,P=u,w=b+G*(o&&w>b?1:-1),z=f(a=x+n*U.cos(w),u=y+i*U.sin(w),n,i,r,0,o,_,P,[w,C,x,y])),A=w-b,T=U.cos(b),M=U.sin(b),E=U.cos(w),S=U.sin(w),k=[a+(R=4/3*n*(O=U.tan(A/4)))*S,u-(I=4/3*i*O)*E],V=[a,u],(B=[t+R*M,e-I*T])[0]=2*(N=[t,e])[0]-B[0],B[1]=2*N[1]-B[1],h)return[B,k,V].concat(z);for(L=[],F=0,D=(z=[B,k,V].concat(z).join().split(",")).length;F<D;F++)L[F]=F%2?j(z[F-1],z[F],X).y:j(z[F],z[F+1],X).x;return L}function d(t,e,n,i,r,s){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*s+2/3*i,r,s]}function p(t,e){var n=function(t){return function(e,n){return e+t*(n-e)}}(e||.5),i=t,r=i[0],s=i[1],o=i[2],a=i[3],u=i[4],h=i[5],c=i[6],l=i[7],f=n(r,o),d=n(s,a),p=n(o,u),g=n(a,h),v=n(u,c),m=n(h,l),x=n(f,p),y=n(d,g),b=n(p,v),w=n(g,m),A=n(x,b),C=n(y,w);return[[r,s,f,d,x,y,A,C],[A,C,b,w,v,m,c,l]]}o.pathToString=function(t){return"string"==typeof(t=t||this)?t:t instanceof Array?(t=e.flatten(t)).join(",").replace(/,?([achlmqrstvxz]),?/gi,"$1"):void 0},o.parsePathString=l((function(t){var e=[];return t.replace(a,(function(t,n,i){var r=[],s=n.toLowerCase();if(i.replace(u,(function(t,e){e&&r.push(+e)})),"m"==s&&r.length>2&&(e.push([n].concat(r.splice(0,2))),s="l",n="m"==n?"l":"L"),"r"==s)e.push([n].concat(r));else for(;r.length>=h[s]&&(e.push([n].concat(r.splice(0,h[s]))),h[s]););})),e.isUniform=!0,e.toString=o.pathToString,e})),o.pathToAbsolute=l((function(t){var e,n,i,r,s,a,u,h,c=t.isUniform?t:o.parsePathString(o.pathToString(t)),l=[],f=0,d=0,p=0,g=0,v=0;for("M"==c[0][0]&&(p=f=+c[0][1],g=d=+c[0][2],v++,l[0]=["M",f,d]),i=v,a=c.length;i<a;i++){if(l.push(e=[]),(n=c[i])[0]!=n[0].toUpperCase())switch(e[0]=n[0].toUpperCase(),e[0]){case"A":e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=+(n[6]+f),e[7]=+(n[7]+d);break;case"V":e[1]=+n[1]+d;break;case"H":e[1]=+n[1]+f;break;case"M":p=+n[1]+f,g=+n[2]+d;break;default:for(r=1,u=n.length;r<u;r++)e[r]=+n[r]+(r%2?f:d)}else for(s=0,h=n.length;s<h;s++)e[s]=n[s];switch(e[0]){case"Z":f=p,d=g;break;case"H":f=e[1];break;case"V":d=e[1];break;case"M":p=e[e.length-2],g=e[e.length-1];break;default:f=e[e.length-2],d=e[e.length-1]}}return l.isUniform=!0,l.isAbsolute=!0,l.toString=o.pathToString,l})),o.pathToCurve=l((function(t){var e,n,i,r,s,a,u,h,c,l,p,g,v=[];for(t.isAbsolute||(t=o.pathToAbsolute(t)),e=0;e<t.length;e++)if(i=t[e][0],r=t[e].slice(1),"M"!=i){switch("Z"==i&&(h=!0,i="L",r=s),u=r.slice(r.length-2),"H"==i&&(u=[r[0],a[1]],i="L"),"V"==i&&(u=[a[0],r[0]],i="L"),"S"!=i&&"T"!=i||(l=[a[0]+(a[0]-c[0]),a[1]+(a[1]-c[1])]),i){case"L":p=a,g=u;break;case"C":p=r.slice(0,2),g=r.slice(2,4);break;case"S":p=l.slice(),g=r.slice(0,2);break;case"Q":c=r.slice(0,2),p=(r=d.apply(null,a.concat(r))).slice(0,2),g=r.slice(2,4);break;case"T":p=(r=d.apply(null,a.concat(l).concat(r))).slice(0,2),g=r.slice(2,4);break;case"A":for(r=f.apply(null,a.concat(r)),n=0;n in r;)p=r.slice(n,n+2),g=r.slice(n+2,n+4),u=r.slice(n+4,n+6),v.push(["C"].concat(p).concat(g).concat(u)),n+=6}"A"!=i&&v.push(["C"].concat(p).concat(g).concat(u)),a=u,"Q"!=i&&(c=g),h&&(v.push(["Z"]),h=!1)}else s=c=a=r,v.push(t[e]);return v.isUniform=!0,v.isAbsolute=!0,v.isCurve=!0,v.toString=o.pathToString,v})),o.cutBezier=l(p),o.subBezier=function(t,e,n){var i=p(t,e)[0];return n?p(i,n/e)[1]:i},o.pointAtBezier=function(t,e){var n=p(t,e)[0],s=i.parse(n.slice(6)),a=i.parse(n.slice(4,2)),u=r.fromPoints(a,s);return s.tan=0===e?o.pointAtBezier(t,.01).tan:u.normalize(),s},o.bezierLength=l((function(t){function e(t){var e=u*Math.pow(t,4)+h*Math.pow(t,3)+c*Math.pow(t,2)+l*t+f;return e<0&&(e=0),Math.pow(e,.5)}var n,i,r,s,o,a,u,h,c,l,f,d=t;return n=-3*d[0]+9*d[2]-9*d[4]+3*d[6],i=6*d[0]-12*d[2]+6*d[4],r=-3*d[0]+3*d[2],s=-3*d[1]+9*d[3]-9*d[5]+3*d[7],o=6*d[1]-12*d[3]+6*d[5],a=-3*d[1]+3*d[3],u=Math.pow(n,2)+Math.pow(s,2),h=2*(n*i+s*o),c=2*(n*r+s*a)+Math.pow(i,2)+Math.pow(o,2),l=2*(i*r+o*a),f=Math.pow(r,2)+Math.pow(a,2),(e(0)+e(1)+4*(e(.125)+e(.375)+e(.625)+e(.875))+2*(e(.25)+e(.5)+e(.75)))/24}));var g=l((function(t){var e,n,i,r,s,a,u;for(a=[],u=0,e=0,n=t.length;e<n;e++)"M"!=(i=t[e])[0]?"Z"!=i[0]?(s=o.bezierLength(r.concat(i.slice(1))),a.push([u,u+s]),u+=s,r=i.slice(4)):a.push(null):(r=i.slice(1),a.push(null));return a.totalLength=u,a}));o.subPath=function(t,e,n){var i;if(i=e-(n=n||0),(e=(n-=0|n)+(i-=0|i))>1)return o.subPath(t,1,n).concat(o.subPath(t,e-1));t.isCurve||(t=o.pathToCurve(t));var r,s,a,u,h,c,l,f,d,p=g(t),v=p.totalLength,m=v*e,x=v*(n||0),y=[];for(r=0,s=t.length;r<s;r++)if("M"!=t[r][0]){if("Z"!=t[r][0])if(a=p[r][0],h=(u=p[r][1])-a,l=c.concat(t[r].slice(1)),x>u)c=l.slice(l.length-2);else{if(x>=a)d=!0,c=(f=o.subBezier(l,Math.min((m-a)/h,1),(x-a)/h)).slice(0,2),y.push(["M"].concat(f.slice(0,2))),y.push(["C"].concat(f.slice(2)));else if(m>=u)y.push(t[r].slice());else{if(!(m>=a))break;f=o.subBezier(l,(m-a)/h),y.push(["C"].concat(f.slice(2))),d=!1}c=l.slice(l.length-2)}}else c=t[r].slice(1),d&&y.push(t[r].slice());return y.isAbsolute=!0,y.isCurve=!0,y.isUniform=!0,y.toString=o.pathToString,y},o.pointAtPath=function(t,e){t.isCurve||(t=o.pathToCurve(t));var n=o.subPath(t,e),s="Z"==n[n.length-1][0]?n[n.length-2]:n[n.length-1];s=s.slice(1);var a=i.parse(s.slice(4)),u=i.parse(s.slice(2,4));return a.tan=r.fromPoints(u,a).normalize(),a},o.pathLength=l((function(t){return t.isCurve||(t=o.pathToCurve(t)),g(t).totalLength})),o.pathKeyPoints=l((function(t){var e,n,i;for(t.isCurve||(t=o.pathToCurve(t)),i=[],e=0,n=t.length;e<n;e++)"z"!=t[e][0]&&i.push(t[e].slice(t[e].length-2));return i}));var v=l((function(t,e){t.isCurve||(t=o.pathToCurve(t)),e.isCurve||(e=o.pathToCurve(e));var n=c(t),i=c(e);function r(t,e){return t[e||t.i]&&t[e||t.i][0]}function s(t,e){var n=function(t,e){return t[e||t.i]&&t[e||t.i].slice(1)}(t,e);return n&&n.slice(-2)}function a(t){return"Z"==r(t)&&(t.splice(t.i,1),!0)}function u(t){return"M"==r(t)&&(t.o.splice(t.o.i,0,["M"].concat(s(t.o,t.o.i-1))),t.i++,t.o.i++,!0)}function h(t){for(var e,n=1;!e;)e=s(t,t.length-n++);for(t.o.i=t.i;t.length<t.o.length;)a(t.o)||u(t.o)||(t.push(["C"].concat(e).concat(e).concat(e)),t.i++,t.o.i++)}for(n.i=0,i.i=0,n.o=i,i.o=n;n.i<n.length&&i.i<i.length;)a(n)||a(i)||r(n)!=r(i)&&(u(n)||u(i))||(n.i++,i.i++);return n.i==n.length&&h(n),i.i==i.length&&h(i),delete n.i,delete n.o,delete i.i,delete i.o,[n,i]}));return o.alignCurve=v,o.pathTween=function(t,e,n){if(0===n)return t;if(1===n)return e;var i,r,s,o=v(t,e),a=[];for(t=o[0],e=o[1],r=0;r<t.length;r++)for(a.push(i=[]),i.push(t[r][0]),s=1;s<t[r].length;s++)i.push(t[r][s]+n*(e[r][s]-t[r][s]));return a.isUniform=a.isCurve=a.isAbsolute=!0,a},o.transformPath=l((function(t,e){var n,r,s,a,u;for(t.isCurve||(t=o.pathToCurve(t)),a=[],n=0,r=t.length;n<r;n++)for(a.push([t[n][0]]),s=1;s<t[n].length;s+=2)u=t[n].slice(s,s+2),u=e.transformPoint(i.parse(u)),a.push(u);return a})),n(0).extendClass(s,{transformPath:function(t){return o.transformPath(t,this)}}),o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(5);return n(0).createClass("Resource",{constructor:function(t,e){this.callBase(),this.node=r.createNode(t),e&&e.addResource(this)},toString:function(){return"url(#"+this.node.id+")"}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}();var r=n(1),s=n(40),o={},a={},u=0;function h(t,e,n){return n=!!n,r.isString(t)&&(t=t.match(/\S+/g)),r.each(t,(function(t){l.call(this,this.node,t,e,n)}),this),this}function c(t,e){var n=null,i=this._EVNET_UID,s=void 0===e;return n=a[i][t],s||(s=!0,r.each(n,(function(t,i){t===e?delete n[i]:s=!1}))),s&&(!function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent(e,n)}(this.node,t,o[i][t]),delete a[i][t],delete o[i][t]),this}function l(t,e,n,i){var u=this._EVNET_UID,h=this;o[u]||(o[u]={}),o[u][e]||(o[u][e]=function(t){t=new s(t||window.event),r.each(a[u][e],(function(n){var r;return n&&(r=n.call(h,t),i&&h.off(e,n)),r}),h)}),a[u]||(a[u]={}),a[u][e]?a[u][e].push(n):(a[u][e]=[n],t&&"on"+e in t&&function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}(t,e,o[u][e]))}return n(0).createClass("EventHandler",{constructor:function(){this._EVNET_UID=++u},addEventListener:function(t,e){return h.call(this,t,e,!1)},addOnceEventListener:function(t,e){return h.call(this,t,e,!0)},removeEventListener:function(t,e){return c.call(this,t,e)},on:function(t,e){return this.addEventListener.apply(this,arguments)},once:function(t,e){return this.addOnceEventListener.apply(this,arguments)},off:function(){return this.removeEventListener.apply(this,arguments)},fire:function(t,e){return this.trigger.apply(this,arguments)},trigger:function(t,e){return function(t,e,n){var i,s=null,a=o[t._EVNET_UID];a&&(s=a[e])&&(i=r.extend({type:e,target:t},n||{}),s.call(t,i))}(this,t,e),this}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(0).createClass("ClassList",{constructor:function(t){this._node=t,this._list=t.className.toString().split(" ")},_update:function(){this._node.className=this._list.join(" ")},add:function(t){this._list.push(t),this._update()},remove:function(t){var e=this._list.indexOf(t);~e&&this._list.splice(e,1),this._update()},contains:function(t){return!!~this._list.indexOf(t)}});function s(t){return t.classList||(t.classList=new r(t)),t.classList}return n(0).createClass("Styled",{addClass:function(t){return s(this.node).add(t),this},removeClass:function(t){return s(this.node).remove(t),this},hasClass:function(t){return s(this.node).contains(t)},setStyle:function(t){if(2==arguments.length)return this.node.style[arguments[0]]=arguments[1],this;for(var e in t)t.hasOwnProperty(e)&&(this.node.style[e]=t[e]);return this}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(4),s=n(9),o=n(0).createClass("Vector",{base:r,constructor:function(t,e){this.callBase(t,e)},square:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.square())},add:function(t){return new o(this.x+t.x,this.y+t.y)},minus:function(t){return new o(this.x-t.x,this.y-t.y)},dot:function(t){return this.x*t.x+this.y*t.y},project:function(t){return t.multipy(this.dot(t)/t.square())},normalize:function(t){return void 0===t&&(t=1),this.multipy(t/this.length())},multipy:function(t){return new o(this.x*t,this.y*t)},rotate:function(t,e){"rad"==e&&(t=t/Math.PI*180);var n=(new s).rotate(t).transformPoint(this);return new o(n.x,n.y)},vertical:function(){return new o(this.y,-this.x)},reverse:function(){return this.multipy(-1)},getAngle:function(){var t=this.length();if(0===t)return 0;var e=Math.acos(this.x/t);return 180*(this.y>0?1:-1)*e/Math.PI}});return o.fromPoints=function(t,e){return new o(e.x-t.x,e.y-t.y)},o.fromPolar=function(){var t=r.fromPolar.apply(r,arguments);return new o(t.x,t.y)},n(0).extendClass(r,{asVector:function(){return new o(this.x,this.y)}}),o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(5),s=n(15),o=n(11);return n(0).createClass("GradientBrush",{base:s,constructor:function(t,e){this.callBase(t,e),this.stops=[]},addStop:function(t,e,n){var i=r.createNode("stop");return e instanceof o||(e=o.parse(e)),void 0===n&&(n=e.get("a")),i.setAttribute("offset",t),i.setAttribute("stop-color",e.toRGB()),n<1&&i.setAttribute("stop-opacity",n),this.node.appendChild(i),this}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(4);return n(0).createClass("Sweep",{base:n(3),constructor:function(t,e,n){this.callBase(),this.sectionArray=t||[],this.angle=e||0,this.angleOffset=n||0,this.draw()},getSectionArray:function(){return this.sectionArray},setSectionArray:function(t){return this.sectionArray=t,this.draw()},getAngle:function(){return this.angle},setAngle:function(t){return this.angle=t,this.draw()},getAngleOffset:function(){return this.angleOffset},setAngleOffset:function(t){return this.angleOffset=t,this.draw()},draw:function(){var t,e=this.sectionArray;for(t=0;t<e.length;t+=2)this.drawSection(e[t],e[t+1]);return this},drawSection:function(t,e){var n=this.angle&&(this.angle%360?this.angle%360:360),i=this.angleOffset,s=i+n/2,o=i+n,a=n<0?0:1,u=this.getDrawer();u.redraw(),0!==n?(u.moveTo(r.fromPolar(t,i)),u.lineTo(r.fromPolar(e,i)),e&&(u.carcTo(e,0,a,r.fromPolar(e,s)),u.carcTo(e,0,a,r.fromPolar(e,o))),u.lineTo(r.fromPolar(t,o)),t&&(u.carcTo(t,0,a,r.fromPolar(t,s)),u.carcTo(t,0,a,r.fromPolar(t,i))),u.close(),u.done()):u.done()}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e){var n,i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout,s=[];function o(t){1===s.push(t)&&(n=i(a))}function a(){var t=s;for(s=[];t.length;)u(t.pop());n=0}function u(t){var e=+new Date,n=e-t.time;n>200&&(n=1e3/60),t.dur=n,t.elapsed+=n,t.time=e,t.action.call(null,t),t.index++}e.requestFrame=function(t){var e=function(t){var e={index:0,time:+new Date,elapsed:0,action:t,next:function(){o(e)}};return e}(t);return o(e),e},e.releaseFrame=function(t){var e=s.indexOf(t);~e&&s.splice(e,1),0===s.length&&r(n)}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(5),s=n(0),o=s.createClass("Filter",{mixins:[n(73)],constructor:function(t,e,n,i){this.node=r.createNode("filter"),void 0!==t&&this.set("x",t),void 0!==e&&this.set("y",e),void 0!==n&&this.set("width",n),void 0!==i&&this.set("height",i)},getId:function(){return this.id},setId:function(t){return this.node.id=t,this},set:function(t,e){return this.node.setAttribute(t,e),this},get:function(t){return this.node.getAttribute(t)},getNode:function(){return this.node}}),a=n(2);return s.extendClass(a,{applyFilter:function(t){var e=t.get("id");return e&&this.node.setAttribute("filter","url(#"+e+")"),this}}),o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(8),s=n(1);return n(0).createClass("GaussianblurEffect",{base:r,constructor:function(t,e){this.callBase(r.NAME_GAUSSIAN_BLUR),this.set("stdDeviation",s.getValue(t,1)),this.set("in",s.getValue(e,r.INPUT_SOURCE_GRAPHIC))}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(11);return n(0).createClass("Pen",{constructor:function(t,e){this.brush=t,this.width=e||1,this.linecap=null,this.linejoin=null,this.dashArray=null,this.opacity=1},getBrush:function(){return this.brush},setBrush:function(t){return this.brush=t,this},setColor:function(t){return this.setBrush(t)},getColor:function(){return this.brush instanceof r?this.brush:null},getWidth:function(){return this.width},setWidth:function(t){return this.width=t,this},getOpacity:function(){return this.opacity},setOpacity:function(t){this.opacity=t},getLineCap:function(){return this.linecap},setLineCap:function(t){return this.linecap=t,this},getLineJoin:function(){return this.linejoin},setLineJoin:function(t){return this.linejoin=t,this},getDashArray:function(){return this.dashArray},setDashArray:function(t){return this.dashArray=t,this},stroke:function(t){var e=t.node;e.setAttribute("stroke",this.brush.toString()),e.setAttribute("stroke-width",this.getWidth()),this.getOpacity()<1&&e.setAttribute("stroke-opacity",this.getOpacity()),this.getLineCap()&&e.setAttribute("stroke-linecap",this.getLineCap()),this.getLineJoin()&&e.setAttribute("stroke-linejoin",this.getLineJoin()),this.getDashArray()&&e.setAttribute("stroke-dasharray",this.getDashArray())}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){t.exports={COLOR_STANDARD:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00"},EXTEND_STANDARD:{}}},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass("ShapePoint",{base:n(4),constructor:function(t,e){this.callBase(t,e)},setX:function(t){return this.setPoint(t,this.y)},setY:function(t){return this.setPoint(this.x,t)},setPoint:function(t,e){return this.x=t,this.y=e,this.update(),this},getPoint:function(){return this},update:function(){return this.container&&this.container.update&&this.container.update(),this}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){n(1);var r=n(4);return n(0).createClass("Ellipse",{base:n(3),constructor:function(t,e,n,i){this.callBase(),this.rx=t||0,this.ry=e||0,this.cx=n||0,this.cy=i||0,this.update()},update:function(){var t=this.rx,e=this.ry,n=this.cx+t,i=this.cx-t,r=this.cy,s=this.getDrawer();return s.clear(),s.moveTo(n,r),s.arcTo(t,e,0,1,1,i,r),s.arcTo(t,e,0,1,1,n,r),this},getRadius:function(){return{x:this.rx,y:this.ry}},getRadiusX:function(){return this.rx},getRadiusY:function(){return this.ry},getCenter:function(){return new r(this.cx,this.cy)},getCenterX:function(){return this.cx},getCenterY:function(){return this.cy},setRadius:function(t,e){return this.rx=t,this.ry=e,this.update()},setRadiusX:function(t){return this.rx=t,this.update()},setRadiusY:function(t){return this.ry=t,this.update()},setCenter:function(t,e){if(1==arguments.length){var n=r.parse(arguments[0]);t=n.x,e=n.y}return this.cx=t,this.cy=e,this.update()},setCenterX:function(t){return this.cx=t,this.update()},setCenterY:function(t){return this.cy=t,this.update()}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass("ViewBox",{getViewBox:function(){var t=this.node.getAttribute("viewBox");return null===t?{x:0,y:0,width:this.node.clientWidth||this.node.parentNode.clientWidth,height:this.node.clientHeight||this.node.parentNode.clientHeight}:{x:+(t=t.split(" "))[0],y:+t[1],width:+t[2],height:+t[3]}},setViewBox:function(t,e,n,i){return this.node.setAttribute("viewBox",[t,e,n,i].join(" ")),this}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){n(1);return n(0).createClass("Poly",{base:n(3),mixins:[n(13)],constructor:function(t,e){this.callBase(),this.closeable=!!e,this.setPoints(t||[]),this.changeable=!0,this.update()},onContainerChanged:function(){this.changeable&&this.update()},update:function(){var t=this.getDrawer(),e=this.getPoints();if(t.clear(),!e.length)return this;t.moveTo(e[0]);for(var n,i=1,r=e.length;i<r;i++)n=e[i],t.lineTo(n);return this.closeable&&e.length>2&&t.close(),this}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(2);return n(0).createClass("TextContent",{base:r,constructor:function(t){this.callBase(t),this.shapeNode=this.shapeNode||this.node,this.shapeNode.setAttribute("text-rendering","geometricPrecision")},clearContent:function(){for(;this.shapeNode.firstChild;)this.shapeNode.removeChild(this.shapeNode.firstChild);return this},setContent:function(t){return this.shapeNode.textContent=t,this},getContent:function(){return this.shapeNode.textContent},appendContent:function(t){return this.shapeNode.textContent+=t,this},setSize:function(t){return this.setFontSize(t)},setFontSize:function(t){return this.setFont({size:t})},setFontFamily:function(t){return this.setFont({family:t})},setFontBold:function(t){return this.setFont({weight:t?"bold":"normal"})},setFontItalic:function(t){return this.setFont({style:t?"italic":"normal"})},setFont:function(t){var e=this.node;return["family","size","weight","style"].forEach((function(n){null===t[n]?e.removeAttribute("font-"+n):t[n]&&e.setAttribute("font-"+n,t[n])})),this},getExtentOfChar:function(t){return this.node.getExtentOfChar(t)},getRotationOfChar:function(t){return this.node.getRotationOfChar(t)},getCharNumAtPosition:function(t,e){return this.node.getCharNumAtPosition(this.node.viewportElement.createSVGPoint(t,e))}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){var e=n(16),i=n(1),r=n(21);function s(t,e,n){for(var i in this.timeline=t,this.target=t.target,this.type=e,n)n.hasOwnProperty(i)&&(this[i]=n[i])}var o=n(0).createClass("Timeline",{mixins:[e],constructor:function(t,e,n,i){this.callMixin(),this.target=e,this.time=0,this.duration=n,this.easing=i,this.animator=t,this.beginValue=t.beginValue,this.finishValue=t.finishValue,this.setter=t.setter,this.status="ready"},nextFrame:function(t){"playing"==this.status&&(this.time+=t.dur,this.setValue(this.getValue()),this.time>=this.duration&&this.timeUp(),t.next())},getPlayTime:function(){return this.rollbacking?this.duration-this.time:this.time},getTimeProportion:function(){return this.getPlayTime()/this.duration},getValueProportion:function(){return this.easing(this.getPlayTime(),0,1,this.duration)},getValue:function(){return function(t,e,n){return i.paralle(t,e,(function(t,e){return t+(e-t)*n}))}(this.beginValue,this.finishValue,this.getValueProportion())},setValue:function(t){this.lastValue=this.currentValue,this.currentValue=t,this.setter.call(this.target,this.target,t,this)},getDelta:function(){return this.lastValue=void 0===this.lastValue?this.beginValue:this.lastValue,t=this.lastValue,e=this.currentValue,i.paralle(t,e,(function(t,e){return e-t}));var t,e},play:function(){var t=this.status;switch(this.status="playing",t){case"ready":i.isFunction(this.beginValue)&&(this.beginValue=this.beginValue.call(this.target,this.target)),i.isFunction(this.finishValue)&&(this.finishValue=this.finishValue.call(this.target,this.target)),this.time=0,this.setValue(this.beginValue),this.frame=r.requestFrame(this.nextFrame.bind(this));break;case"finished":case"stoped":this.time=0,this.frame=r.requestFrame(this.nextFrame.bind(this));break;case"paused":this.frame.next()}return this.fire("play",new s(this,"play",{lastStatus:t})),this},pause:function(){return this.status="paused",this.fire("pause",new s(this,"pause")),r.releaseFrame(this.frame),this},stop:function(){return this.status="stoped",this.setValue(this.finishValue),this.rollbacking=!1,this.fire("stop",new s(this,"stop")),r.releaseFrame(this.frame),this},timeUp:function(){this.repeatOption?(this.time=0,this.rollback?this.rollbacking?(this.decreaseRepeat(),this.rollbacking=!1):(this.rollbacking=!0,this.fire("rollback",new s(this,"rollback"))):this.decreaseRepeat(),this.repeatOption?this.fire("repeat",new s(this,"repeat")):this.finish()):this.finish()},finish:function(){this.setValue(this.finishValue),this.status="finished",this.fire("finish",new s(this,"finish")),r.releaseFrame(this.frame)},decreaseRepeat:function(){!0!==this.repeatOption&&this.repeatOption--},repeat:function(t,e){return this.repeatOption=t,this.rollback=e,this}});return o.requestFrame=r.requestFrame,o.releaseFrame=r.releaseFrame,o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,n){var i={linear:function(t,e,n,i){return n*(t/i)+e},swing:function(t,e,n,r){return i.easeOutQuad(t,e,n,r)},ease:function(t,e,n,r){return i.easeInOutCubic(t,e,n,r)},easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,n,i){return 0===t?e:n*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,n,i){return t==i?e+n:n*(1-Math.pow(2,-10*t/i))+e},easeInOutExpo:function(t,e,n,i){return 0===t?e:t==i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,i){var r=1.70158,s=0,o=n;return 0===t?e:1==(t/=i)?e+n:(s||(s=.3*i),o<Math.abs(n)?(o=n,r=s/4):r=s/(2*Math.PI)*Math.asin(n/o),-o*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/s)+e)},easeOutElastic:function(t,e,n,i){var r=1.70158,s=0,o=n;return 0===t?e:1==(t/=i)?e+n:(s||(s=.3*i),o<Math.abs(n)?(o=n,r=s/4):r=s/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*t)*Math.sin((t*i-r)*(2*Math.PI)/s)+n+e)},easeInOutElastic:function(t,e,n,i){var r=1.70158,s=0,o=n;if(0===t)return e;if(2==(t/=i/2))return e+n;if(s||(s=i*(.3*1.5)),o<Math.abs(n)){o=n;r=s/4}else r=s/(2*Math.PI)*Math.asin(n/o);return t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/s)*-.5+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/s)*.5+n+e},easeInBack:function(t,e,n,i,r){return null==r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,n,i,r){return null==r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,n,i,r){return null==r&&(r=1.70158),(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:function(t,e,n,r){return n-i.easeOutBounce(r-t,0,n,r)+e},easeOutBounce:function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){return t<r/2?.5*i.easeInBounce(2*t,0,n,r)+e:.5*i.easeOutBounce(2*t-r,0,n,r)+.5*n+e}};return i}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(8),s=n(1),o=n(0).createClass("ColorMatrixEffect",{base:r,constructor:function(t,e){this.callBase(r.NAME_COLOR_MATRIX),this.set("type",s.getValue(t,o.TYPE_MATRIX)),this.set("in",s.getValue(e,r.INPUT_SOURCE_GRAPHIC))}});return s.extend(o,{TYPE_MATRIX:"matrix",TYPE_SATURATE:"saturate",TYPE_HUE_ROTATE:"hueRotate",TYPE_LUMINANCE_TO_ALPHA:"luminanceToAlpha",MATRIX_ORIGINAL:"10000010000010000010".split("").join(" "),MATRIX_EMPTY:"00000000000000000000".split("").join(" ")}),o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(8),s=n(1),o=n(0).createClass("CompositeEffect",{base:r,constructor:function(t,e,n){this.callBase(r.NAME_COMPOSITE),this.set("operator",s.getValue(t,o.OPERATOR_OVER)),e&&this.set("in",e),n&&this.set("in2",n)}});return s.extend(o,{OPERATOR_OVER:"over",OPERATOR_IN:"in",OPERATOR_OUT:"out",OPERATOR_ATOP:"atop",OPERATOR_XOR:"xor",OPERATOR_ARITHMETIC:"arithmetic"}),o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(8),s=n(1);return n(0).createClass("OffsetEffect",{base:r,constructor:function(t,e,n){this.callBase(r.NAME_OFFSET),this.set("dx",s.getValue(t,0)),this.set("dy",s.getValue(e,0)),this.set("in",s.getValue(n,r.INPUT_SOURCE_GRAPHIC))}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){i.exports=window.kity=n(37)}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r={},s=n(1);r.version="2.0.0",s.extend(r,{createClass:n(0).createClass,extendClass:n(0).extendClass,Utils:s,Browser:n(38),Box:n(12),Bezier:n(39),BezierPoint:n(42),Circle:n(43),Clip:n(44),Color:n(11),Container:n(10),Curve:n(45),Ellipse:n(27),Group:n(46),Gradient:n(19),HyperLink:n(47),Image:n(48),Line:n(49),LinearGradient:n(50),Mask:n(51),Matrix:n(9),Marker:n(52),Palette:n(53),Paper:n(54),Path:n(3),Pattern:n(55),Pen:n(24),Point:n(4),PointContainer:n(13),Polygon:n(56),Polyline:n(57),Pie:n(58),RadialGradient:n(59),Resource:n(15),Rect:n(60),RegularPolygon:n(61),Ring:n(62),Shape:n(2),ShapePoint:n(26),ShapeContainer:n(6),Sweep:n(20),Star:n(63),Text:n(64),TextSpan:n(65),Use:n(66),Vector:n(18),g:n(14),Animator:n(7),Easing:n(32),OpacityAnimator:n(67),RotateAnimator:n(68),ScaleAnimator:n(69),Timeline:n(31),TranslateAnimator:n(70),PathAnimator:n(71),MotionAnimator:n(72),requestFrame:n(21).requestFrame,releaseFrame:n(21).releaseFrame,Filter:n(22),GaussianblurFilter:n(74),ProjectionFilter:n(75),ColorMatrixEffect:n(33),CompositeEffect:n(34),ConvolveMatrixEffect:n(76),Effect:n(8),GaussianblurEffect:n(23),OffsetEffect:n(35)}),i.exports=r}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(){return function(){var t,e=navigator.userAgent.toLowerCase(),n=window.opera;(t={platform:function(t){return{win32:"Win",macintel:"Mac"}[t.platform.toLowerCase()]||"Lux"}(navigator),lb:function(t){return!!~t.indexOf("lbbrowser")&&(~t.indexOf("msie")?"ie":"chrome")}(e),sg:/se[\s\S]+metasr/.test(e),bd:!!~e.indexOf("bidubrowser"),edge:!!~e.indexOf("edge"),chrome:!1,opera:!!n&&n.version,webkit:e.indexOf(" applewebkit/")>-1,mac:e.indexOf("macintosh")>-1}).ie=!t.lb&&/(msie\s|trident.*rv:)([\w.]+)/.test(e),t.gecko="Gecko"==navigator.product&&!t.webkit&&!t.opera&&!t.ie;var i=0;if(t.ie&&(i=1*(e.match(/(msie\s|trident.*rv:)([\w.]+)/)[2]||0),t.ie11Compat=11==document.documentMode,t.ie9Compat=9==document.documentMode),t.gecko){var r=e.match(/rv:([\d\.]+)/);r&&(i=1e4*(r=r[1].split("."))[0]+100*(r[1]||0)+1*(r[2]||0))}return!/chrome\/(\d+\.\d)/i.test(e)||t.bd||t.opera||t.lb||t.sg||t.edge||(t.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e)&&(t.safari=+(RegExp.$1||RegExp.$2)),t.opera&&(i=parseFloat(n.version())),t.webkit&&(i=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),t.bd&&(i=parseFloat(e.match(/bidubrowser\/(\d+)/)[1])),t.opera&&(i=parseFloat(e.match(/opr\/(\d+)/)[1])),t.edge&&(i=parseFloat(e.match(/edge\/(\d+)/)[1])),t.version=i,t.isCompatible=!t.mobile&&(t.ie&&i>=6||t.gecko&&i>=10801||t.opera&&i>=9.5||t.air&&i>=1||t.webkit&&i>=522||!1),t}()}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass("Bezier",{mixins:[n(13)],base:n(3),constructor:function(t){this.callBase(),t=t||[],this.changeable=!0,this.setBezierPoints(t)},getBezierPoints:function(){return this.getPoints()},setBezierPoints:function(t){return this.setPoints(t)},onContainerChanged:function(){this.changeable&&this.update()},update:function(){var t=null,e=this.getBezierPoints();if(!(e.length<2)){(t=this.getDrawer()).clear();var n=e[0].getVertex(),i=null,r=null;t.moveTo(n.x,n.y);for(var s=1,o=e.length;s<o;s++)n=e[s].getVertex(),r=e[s].getBackward(),i=e[s-1].getForward(),t.bezierTo(i.x,i.y,r.x,r.y,n.x,n.y);return this}}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(9),s=n(1),o=n(4);return n(0).createClass("ShapeEvent",{constructor:function(t){var e=null;s.isObject(t.target)?s.extend(this,t):(this.type=t.type,(e=t.target).correspondingUseElement&&(e=e.correspondingUseElement),this.originEvent=t,this.targetShape=e.shape||e.paper||t.currentTarget&&(t.currentTarget.shape||t.currentTarget.paper),t._kityParam&&s.extend(this,t._kityParam))},preventDefault:function(){var t=this.originEvent;return!t||(t.preventDefault?(t.preventDefault(),t.cancelable):(t.returnValue=!1,!0))},getPosition:function(t,e){if(!this.originEvent)return null;var n=this.originEvent.touches?this.originEvent.touches[e||0]:this.originEvent,i=this.targetShape,s=i.shapeNode||i.node,a=new o(n&&n.clientX||0,n&&n.clientY||0),u=r.transformPoint(a,s.getScreenCTM().inverse());return r.getCTM(i,t||"view").transformPoint(u)},stopPropagation:function(){var t=this.originEvent;if(!t)return!0;t.stopPropagation?t.stopPropagation():t.cancelBubble=!1}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass("Data",{constructor:function(){this._data={}},setData:function(t,e){return this._data[t]=e,this},getData:function(t){return this._data[t]},removeData:function(t){return delete this._data[t],this}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(26),s=n(18),o=n(0).createClass("BezierPoint",{constructor:function(t,e,n){this.vertex=new r(t,e),this.forward=new r(t,e),this.backward=new r(t,e),this.setSmooth(void 0===n||n),this.setSymReflaction(!0)},clone:function(){var t=new o,e=null;return e=this.getVertex(),t.setVertex(e.x,e.y),e=this.getForward(),t.setForward(e.x,e.y),e=this.getBackward(),t.setBackward(e.x,e.y),t.setSymReflaction(this.isSymReflaction),t.setSmooth(this.isSmooth()),t},setVertex:function(t,e){return this.vertex.setPoint(t,e),this.update(),this},moveTo:function(t,e){var n=this.forward.getPoint(),i=this.backward.getPoint(),r=this.vertex.getPoint(),s=t-r.x,o=e-r.y;this.forward.setPoint(n.x+s,n.y+o),this.backward.setPoint(i.x+s,i.y+o),this.vertex.setPoint(t,e),this.update()},setForward:function(t,e){return this.forward.setPoint(t,e),this.smooth&&this.updateAnother(this.forward,this.backward),this.update(),this.lastControlPointSet=this.forward,this},setBackward:function(t,e){return this.backward.setPoint(t,e),this.smooth&&this.updateAnother(this.backward,this.forward),this.update(),this.lastControlPointSet=this.backward,this},setSymReflaction:function(t){return this.symReflaction=t,this.smooth&&this.setSmooth(!0),this},isSymReflaction:function(){return this.symReflaction},updateAnother:function(t,e){var n=this.getVertex(),i=s.fromPoints(t.getPoint(),n),r=s.fromPoints(n,e.getPoint());return r=i.normalize(this.isSymReflaction()?i.length():r.length()),e.setPoint(n.x+r.x,n.y+r.y),this},setSmooth:function(t){var e;return this.smooth=!!t,this.smooth&&(e=this.lastControlPointSet)&&this.updateAnother(e,e==this.forward?this.backward:this.forward),this},isSmooth:function(){return this.smooth},getVertex:function(){return this.vertex.getPoint()},getForward:function(){return this.forward.getPoint()},getBackward:function(){return this.backward.getPoint()},update:function(){if(!this.container)return this;this.container.update&&this.container.update(this)}});return o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass("Circle",{base:n(27),constructor:function(t,e,n){this.callBase(t,t,e,n)},getRadius:function(){return this.getRadiusX()},setRadius:function(t){return this.callBase(t,t)}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(0),s=n(2),o=r.createClass("Clip",{base:s,mixins:[n(6)],constructor:function(t){this.callBase("clipPath",t)},clip:function(t){return t.getNode().setAttribute("clip-path",this),this}});return r.extendClass(s,{clipWith:function(t){return t instanceof s&&(t=new o(t.getPaper()).addShape(t)),t.clip(this),this}}),o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(1),s={getCurvePanLines:function(t,e){var n=s.getCenterPoints(t),i=s.getPanLine(t.length,n);return s.getMovedPanLines(t,i,e)},getCenterPoints:function(t){for(var e={},n=0,i=0,r=t.length;n<r;n++)e[n+","+(i=n===r-1?0:n+1)]={x:(t[n].x+t[i].y)/2,y:(t[n].x+t[i].y)/2};return e},getPanLine:function(t,e){for(var n,i={},r=null,s=0;s<t;s++){var o,a;r=n=(s+1)%t,o=e[s+","+n],a=e[(s=n)+","+(n=(s+1)%t)],i[r]={points:[{x:o.x,y:o.y},{x:a.x,y:a.y}],center:{x:(o.x+a.x)/2,y:(o.y+a.y)/2}},s=(r+t-1)%t}return i},getMovedPanLines:function(t,e,n){var i={};return r.each(t,(function(t,s){var o=e[s],a=o.center,u=a.x-t.x,h=a.y-t.y,c=i[s]={points:[],center:{x:t.x,y:t.y}};r.each(o.points,(function(t,e){var i={x:t.x-u,y:t.y-h},r=c.center,s=i.x-r.x,o=i.y-r.y;i.x=r.x+n*s,i.y=r.y+n*o,c.points.push(i)}))})),i}};return n(0).createClass("Curve",{base:n(3),mixins:[n(13)],constructor:function(t,e){this.callBase(),this.setPoints(t||[]),this.closeState=!!e,this.changeable=!0,this.smoothFactor=1,this.update()},onContainerChanged:function(){this.changeable&&this.update()},setSmoothFactor:function(t){return this.smoothFactor=t<0?0:t,this.update(),this},getSmoothFactor:function(){return this.smoothFactor},update:function(){var t,e=this.getPoints(),n=this.getDrawer(),i=null,r=null,o=null;if(n.clear(),0===e.length)return this;if(n.moveTo(e[0]),1===e.length)return this;if(2===e.length)return n.lineTo(e[1]),this;t=s.getCurvePanLines(e,this.getSmoothFactor());for(var a=1,u=e.length;a<u;a++)i=t[a].center,r=this.closeState||a!=u-1?t[a].points[0]:t[a].center,o=this.closeState||1!=a?t[a-1].points[1]:t[a-1].center,n.bezierTo(o.x,o.y,r.x,r.y,i.x,i.y);return this.closeState&&(i=t[0].center,r=t[0].points[0],o=t[e.length-1].points[1],n.bezierTo(o.x,o.y,r.x,r.y,i.x,i.y)),this},close:function(){return this.closeState=!0,this.update()},open:function(){return this.closeState=!1,this.update()},isClose:function(){return!!this.closeState}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(6);return n(0).createClass("Group",{mixins:[r],base:n(2),constructor:function(){this.callBase("g")}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(6);return n(0).createClass("HyperLink",{mixins:[r],base:n(2),constructor:function(t){this.callBase("a"),this.setHref(t)},setHref:function(t){return this.node.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t),this},getHref:function(){return this.node.getAttributeNS("xlink:href")},setTarget:function(t){return this.node.setAttribute("target",t),this},getTarget:function(){return this.node.getAttribute("target")}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass("Image",{base:n(2),constructor:function(t,e,n,i,r){this.callBase("image"),this.url=t,this.width=e||0,this.height=n||0,this.x=i||0,this.y=r||0,this.update()},update:function(){return this.node.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.url),this.node.setAttribute("x",this.x),this.node.setAttribute("y",this.y),this.node.setAttribute("width",this.width),this.node.setAttribute("height",this.height),this},setUrl:function(t){return this.url=""===t?null:t,this.update()},getUrl:function(){return this.url},setWidth:function(t){return this.width=t,this.update()},getWidth:function(){return this.width},setHeight:function(t){return this.height=t,this.update()},getHeight:function(){return this.height},setX:function(t){return this.x=t,this.update()},getX:function(){return this.x},setY:function(t){return this.y=t,this.update()},getY:function(){return this.y}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass("Line",{base:n(3),constructor:function(t,e,n,i){this.callBase(),this.point1={x:t||0,y:e||0},this.point2={x:n||0,y:i||0},this.update()},setPoint1:function(t,e){return this.point1.x=t,this.point1.y=e,this.update()},setPoint2:function(t,e){return this.point2.x=t,this.point2.y=e,this.update()},getPoint1:function(){return{x:this.point1.x,y:this.point1.y}},getPoint2:function(){return{x:this.point2.x,y:this.point2.y}},update:function(){var t=this.getDrawer();return t.clear(),t.moveTo(this.point1.x,this.point1.y),t.lineTo(this.point2.x,this.point2.y),this}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){n(5);var r=n(19);return n(0).createClass("LinearGradientBrush",{base:r,constructor:function(t){this.callBase("linearGradient",t),this.setStartPosition(0,0),this.setEndPosition(1,0)},setStartPosition:function(t,e){return this.node.setAttribute("x1",t),this.node.setAttribute("y1",e),this},setEndPosition:function(t,e){return this.node.setAttribute("x2",t),this.node.setAttribute("y2",e),this},getStartPosition:function(){return{x:+this.node.getAttribute("x1"),y:+this.node.getAttribute("y1")}},getEndPosition:function(){return{x:+this.node.getAttribute("x2"),y:+this.node.getAttribute("y2")}}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(0),s=n(2),o=r.createClass("Mask",{base:s,mixins:[n(6)],constructor:function(){this.callBase("mask")},mask:function(t){return t.getNode().setAttribute("mask","url(#"+this.getId()+")"),this}});return r.extendClass(s,{maskWith:function(t){return t.mask(this),this}}),o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(4),s=n(0).createClass("Marker",{base:n(15),mixins:[n(6),n(28)],constructor:function(){this.callBase("marker"),this.setOrient("auto")},setRef:function(t,e){return 1===arguments.length&&(e=t.y,t=t.x),this.node.setAttribute("refX",t),this.node.setAttribute("refY",e),this},getRef:function(){return new r(+this.node.getAttribute("refX"),+this.node.getAttribute("refY"))},setWidth:function(t){return this.node.setAttribute("markerWidth",this.width=t),this},setOrient:function(t){return this.node.setAttribute("orient",this.orient=t),this},getOrient:function(){return this.orient},getWidth:function(){return+this.width},setHeight:function(t){return this.node.setAttribute("markerHeight",this.height=t),this},getHeight:function(){return+this.height}}),o=n(3);return n(0).extendClass(o,{setMarker:function(t,e){return e=e||"end",t?this.node.setAttribute("marker-"+e,t.toString()):this.node.removeAttribute("marker-"+e),this}}),s}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(25),s=n(11),o=n(1),a=n(0).createClass("Palette",{constructor:function(){this.color={}},get:function(t){var e=this.color[t]||r.EXTEND_STANDARD[t]||r.COLOR_STANDARD[t]||"";return e?new s(e):null},getColorValue:function(t){return this.color[t]||r.EXTEND_STANDARD[t]||r.COLOR_STANDARD[t]||""},add:function(t,e){return this.color[t]="string"==typeof e?new s(e).toRGBA():e.toRGBA(),e},remove:function(t){return!!this.color.hasOwnProperty(t)&&(delete this.color[t],!0)}});return o.extend(a,{getColor:function(t){var e=r.EXTEND_STANDARD[t]||r.COLOR_STANDARD[t];return e?new s(e):null},getColorValue:function(t){return r.EXTEND_STANDARD[t]||r.COLOR_STANDARD[t]||""},addColor:function(t,e){return r.EXTEND_STANDARD[t]="string"==typeof e?new s(e).toRGBA():e.toRGBA(),e},removeColor:function(t){return!!r.EXTEND_STANDARD.hasOwnProperty(t)&&(delete r.EXTEND_STANDARD[t],!0)}}),a}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(0),s=n(1),o=n(5),a=n(10),u=n(6),h=n(28),c=n(16),l=n(17),f=n(9),d=r.createClass("Paper",{mixins:[u,c,l,h],constructor:function(t){this.callBase(),this.node=this.createSVGNode(),this.node.paper=this,this.node.appendChild(this.resourceNode=o.createNode("defs")),this.node.appendChild(this.shapeNode=o.createNode("g")),this.resources=new a,this.setWidth("100%").setHeight("100%"),t&&this.renderTo(t),this.callMixin()},renderTo:function(t){s.isString(t)&&(t=document.getElementById(t)),this.container=t,t.appendChild(this.node)},createSVGNode:function(){var t=o.createNode("svg");return t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),t.setAttribute("version","1.1"),t},getNode:function(){return this.node},getContainer:function(){return this.container},getWidth:function(){return this.node.clientWidth},setWidth:function(t){return this.node.setAttribute("width",t),this},getHeight:function(){return this.node.clientHeight},setHeight:function(t){return this.node.setAttribute("height",t),this},setViewPort:function(t,e,n){var i,r;1==arguments.length&&(t=(i=arguments[0]).center.x,e=i.center.y,n=i.zoom),n=n||1,r=this.getViewBox();var s=new f,o=r.x+r.width/2-t,a=r.y+r.height/2-e;return s.translate(-t,-e),s.scale(n),s.translate(t,e),s.translate(o,a),this.shapeNode.setAttribute("transform","matrix("+s+")"),this.viewport={center:{x:t,y:e},offset:{x:o,y:a},zoom:n},this},getViewPort:function(){if(!this.viewport){var t=this.getViewBox();return{zoom:1,center:{x:t.x+t.width/2,y:t.y+t.height/2},offset:{x:0,y:0}}}return this.viewport},getViewPortMatrix:function(){return f.parse(this.shapeNode.getAttribute("transform"))},getViewPortTransform:function(){var t=this.shapeNode.getCTM();return new f(t.a,t.b,t.c,t.d,t.e,t.f)},getTransform:function(){return this.getViewPortTransform().reverse()},addResource:function(t){return this.resources.appendItem(t),t.node&&this.resourceNode.appendChild(t.node),this},removeResource:function(t){return t.remove&&t.remove(),t.node&&this.resourceNode.removeChild(t.node),this},getPaper:function(){return this}}),p=n(2);return r.extendClass(p,{getPaper:function(){for(var t=this.container;t&&t instanceof d==!1;)t=t.container;return t},isAttached:function(){return!!this.getPaper()},whenPaperReady:function(t){var e=this;function n(){var n=e.getPaper();return n&&t&&t.call(e,n),n}return n()||this.on("add treeadd",(function t(){n()&&(e.off("add",t),e.off("treeadd",t))})),this}}),d}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(15),s=n(6);n(5);return n(0).createClass("PatternBrush",{base:r,mixins:[s],constructor:function(t){this.callBase("pattern",t),this.node.setAttribute("patternUnits","userSpaceOnUse")},setX:function(t){return this.x=t,this.node.setAttribute("x",t),this},setY:function(t){return this.y=t,this.node.setAttribute("y",t),this},setWidth:function(t){return this.width=t,this.node.setAttribute("width",t),this},setHeight:function(t){return this.height=t,this.node.setAttribute("height",t),this},getWidth:function(){return this.width},getHeight:function(){return this.height}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass("Polygon",{base:n(29),constructor:function(t){this.callBase(t,!0)}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass("Polyline",{base:n(29),constructor:function(t){this.callBase(t)}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass({base:n(20),constructor:function(t,e,n){this.callBase([0,t],e,n)},getRadius:function(){return this.getSectionArray()[1]},setRadius:function(t){this.setSectionArray([0,t])}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(19);return n(0).createClass("RadialGradientBrush",{base:r,constructor:function(t){this.callBase("radialGradient",t),this.setCenter(.5,.5),this.setFocal(.5,.5),this.setRadius(.5)},setCenter:function(t,e){return this.node.setAttribute("cx",t),this.node.setAttribute("cy",e),this},getCenter:function(){return{x:+this.node.getAttribute("cx"),y:+this.node.getAttribute("cy")}},setFocal:function(t,e){return this.node.setAttribute("fx",t),this.node.setAttribute("fy",e),this},getFocal:function(){return{x:+this.node.getAttribute("fx"),y:+this.node.getAttribute("fy")}},setRadius:function(t){return this.node.setAttribute("r",t),this},getRadius:function(){return+this.node.getAttribute("r")}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r={},s=n(1),o=n(4),a=n(12);return s.extend(r,{formatRadius:function(t,e,n){var i=Math.floor(Math.min(t/2,e/2));return Math.min(i,n)}}),n(0).createClass("Rect",{base:n(3),constructor:function(t,e,n,i,s){this.callBase(),this.x=n||0,this.y=i||0,this.width=t||0,this.height=e||0,this.radius=r.formatRadius(this.width,this.height,s||0),this.update()},update:function(){var t=this.x,e=this.y,n=this.width,i=this.height,r=this.radius,s=this.getDrawer().redraw();return r?(n-=2*r,i-=2*r,s.push("M",t+r,e),s.push("h",n),s.push("a",r,r,0,0,1,r,r),s.push("v",i),s.push("a",r,r,0,0,1,-r,r),s.push("h",-n),s.push("a",r,r,0,0,1,-r,-r),s.push("v",-i),s.push("a",r,r,0,0,1,r,-r),s.push("z")):(s.push("M",t,e),s.push("h",n),s.push("v",i),s.push("h",-n),s.push("z")),s.done(),this},setWidth:function(t){return this.width=t,this.update()},setHeight:function(t){return this.height=t,this.update()},setSize:function(t,e){return this.width=t,this.height=e,this.update()},setBox:function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.update()},getBox:function(){return new a(this.x,this.y,this.width,this.height)},getRadius:function(){return this.radius},setRadius:function(t){return this.radius=r.formatRadius(this.width,this.height,t||0),this.update()},getPosition:function(){return new o(this.x,this.y)},setPosition:function(t,e){if(1==arguments.length){var n=o.parse(arguments[0]);e=n.y,t=n.x}return this.x=t,this.y=e,this.update()},getWidth:function(){return this.width},getHeight:function(){return this.height},getPositionX:function(){return this.x},getPositionY:function(){return this.y},setPositionX:function(t){return this.x=t,this.update()},setPositionY:function(t){return this.y=t,this.update()}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(4);return n(0).createClass("RegularPolygon",{base:n(3),constructor:function(t,e,n,i){this.callBase(),this.radius=e||0,this.side=Math.max(t||3,3),arguments.length>2&&3==arguments.length&&(i=n.y,n=n.x),this.center=new r(n,i),this.draw()},getSide:function(){return this.side},setSide:function(t){return this.side=t,this.draw()},getRadius:function(){return this.radius},setRadius:function(t){return this.radius=t,this.draw()},draw:function(){var t,e=this.radius,n=this.side,i=2*Math.PI/n,s=this.getDrawer();for(s.clear(),s.moveTo(r.fromPolar(e,Math.PI/2,"rad").offset(this.center)),t=0;t<=n;t++)s.lineTo(r.fromPolar(e,i*t+Math.PI/2,"rad").offset(this.center));return s.close(),this}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){return n(0).createClass({base:n(20),constructor:function(t,e){this.callBase([t,e],360,0)},getInnerRadius:function(){return this.getSectionArray()[0]},getOuterRadius:function(){return this.getSectionArray()[1]},setInnerRadius:function(t){this.setSectionArray([t,this.getOuterRadius()])},setOuterRadius:function(t){this.setSectionArray([this.getInnerRadius(),t])}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r={3:.2,5:.38196601125,6:.57735026919,8:.541196100146,10:.726542528005,12:.707106781187},s=n(4);return n(0).createClass("Star",{base:n(3),constructor:function(t,e,n,i,r){this.callBase(),this.vertex=t||3,this.radius=e||0,this.shrink=n,this.offset=i||new s(0,0),this.angleOffset=r||0,this.draw()},getVertex:function(){return this.vertex},setVertex:function(t){return this.vertex=t,this.draw()},getRadius:function(){return this.radius},setRadius:function(t){return this.radius=t,this.draw()},getShrink:function(){return this.shrink},setShrink:function(t){return this.shrink=t,this.draw()},getOffset:function(){return this.offset},setOffset:function(t){return this.offset=t,this.draw()},getAngleOffset:function(){return this.angleOffset},setAngleOffset:function(t){return this.angleOffset=t,this.draw()},draw:function(){var t,e,n=this.radius,i=this.radius*(this.shrink||r[this.vertex]||.5),o=this.vertex,a=this.offset,u=180/o,h=this.angleOffset,c=this.getDrawer();for(c.clear(),c.moveTo(s.fromPolar(i,90)),t=1;t<=2*o;t++)e=90+u*t,t%2?c.lineTo(s.fromPolar(n,e+h).offset(a)):c.lineTo(s.fromPolar(i,e));c.close()}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(30),s=n(6),o=n(5),a=n(1),u={};function h(t){var e=t._cachedFontHash;if(u[e])return u[e];var n=t.getContent();t.setContent("百度Fex");var i=t.getBoundaryBox(),r=t.getY();if(!i.height)return{top:0,bottom:0,middle:0};var s=r-i.y+ +t.node.getAttribute("dy"),o=s-i.height;return t.setContent(n),u[e]={top:s,bottom:o,middle:(s+o)/2}}return n(0).createClass("Text",{base:r,mixins:[s],constructor:function(t){this.callBase("text"),void 0!==t&&this.setContent(t),this._buildFontHash()},fixPosition:function(){this.__fixedPosition||this.setVerticalAlign(this.getVerticalAlign())},_buildFontHash:function(){var t=window.getComputedStyle(this.node);this._cachedFontHash=[t.fontFamily,t.fontSize,t.fontStretch,t.fontStyle,t.fontVariant,t.fontWeight].join("-")},_fontChanged:function(t){var e=this._lastFont,n=a.extend({},e,t);if(!e)return this._lastFont=t,!0;var i=e.family!=n.family||e.size!=n.size||e.style!=n.style||e.weight!=n.weight;return this._lastFont=n,i},setX:function(t){return this.node.setAttribute("x",t),this},setPosition:function(t,e){return this.setX(t).setY(e)},setY:function(t){return this.node.setAttribute("y",t),this},getX:function(){return+this.node.getAttribute("x")||0},getY:function(){return+this.node.getAttribute("y")||0},setFont:function(t){return this.callBase(t),this._fontChanged(t)&&(this._buildFontHash(),this.setVerticalAlign(this.getVerticalAlign())),this},setTextAnchor:function(t){return this.node.setAttribute("text-anchor",t),this},getTextAnchor:function(){return this.node.getAttribute("text-anchor")||"start"},setVerticalAlign:function(t){return this.whenPaperReady((function(){var e;switch(t){case"top":e=h(this).top;break;case"bottom":e=h(this).bottom;break;case"middle":e=h(this).middle;break;default:e=0}e&&(this.__fixedPosition=!0),this.node.setAttribute("dy",e)})),this.verticalAlign=t,this},getVerticalAlign:function(){return this.verticalAlign||"baseline"},setStartOffset:function(t){this.shapeNode!=this.node&&this.shapeNode.setAttribute("startOffset",100*t+"%")},addSpan:function(t){return this.addShape(t),this},setPath:function(t){var e=this.shapeNode;if(this.shapeNode==this.node){for(e=this.shapeNode=o.createNode("textPath");this.node.firstChild;)this.shapeNode.appendChild(this.node.firstChild);this.node.appendChild(e)}return e.setAttributeNS(o.xlink,"xlink:href","#"+t.node.id),this.setTextAnchor(this.getTextAnchor()),this}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(30),s=n(17);return n(0).createClass("TextSpan",{base:r,mixins:[s],constructor:function(t){this.callBase("tspan"),this.setContent(t)}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(5),s=n(0),o=s.createClass("Use",{base:n(2),constructor:function(t){this.callBase("use"),this.ref(t)},ref:function(t){if(!t)return this.node.removeAttributeNS(r.xlink,"xlink:href"),this;var e=t.getId();return e&&this.node.setAttributeNS(r.xlink,"xlink:href","#"+e),"none"===t.node.getAttribute("fill")&&t.node.removeAttribute("fill"),"none"===t.node.getAttribute("stroke")&&t.node.removeAttribute("stroke"),this}}),a=n(2);return s.extendClass(a,{use:function(){return new o(this)}}),o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){var e=n(7),i=n(0).createClass("OpacityAnimator",{base:e,constructor:function(t){this.callBase({beginValue:function(t){return t.getOpacity()},finishValue:t,setter:function(t,e){t.setOpacity(e)}})}}),r=n(2);return n(0).extendClass(r,{fxOpacity:function(t,e,n,r,s){return this.animate(new i(t),e,n,r,s)},fadeTo:function(){return this.fxOpacity.apply(this,arguments)},fadeIn:function(){return this.fxOpacity.apply(this,[1].concat([].slice.call(arguments)))},fadeOut:function(){return this.fxOpacity.apply(this,[0].concat([].slice.call(arguments)))}}),i}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){var e=n(7),i=n(0).createClass("RotateAnimator",{base:e,constructor:function(t){this.callBase({beginValue:0,finishValue:t,setter:function(t,e,n){var i=n.getDelta();t.rotate(i)}})}}),r=n(2);return n(0).extendClass(r,{fxRotate:function(t,e,n,r,s){return this.animate(new i(t),e,n,r,s)}}),i}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){var e=n(7),i=n(0).createClass("ScaleAnimator",{base:e,constructor:function(t,e){this.callBase({beginValue:0,finishValue:1,setter:function(n,i,r){var s=r.getDelta(),o=Math.pow(t,s),a=Math.pow(e,s);n.scale(a,o)}})}}),r=n(2);return n(0).extendClass(r,{fxScale:function(t,e,n,r,s,o){return this.animate(new i(t,e),n,r,s,o)}}),i}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){var e=n(7),i=n(0).createClass("TranslateAnimator",{base:e,constructor:function(t,e){this.callBase({x:0,y:0},{x:t,y:e},(function(t,e,n){var i=n.getDelta();t.translate(i.x,i.y)}))}}),r=n(2);return n(0).extendClass(r,{fxTranslate:function(t,e,n,r,s,o){return this.animate(new i(t,e),n,r,s,o)}}),i}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){var e=n(7),i=n(14),r=n(0).createClass("OpacityAnimator",{base:e,constructor:function(t){this.callBase({beginValue:function(t){return this.beginPath=t.getPathData(),0},finishValue:1,setter:function(e,n){e.setPathData(i.pathTween(this.beginPath,t,n))}})}}),s=n(3);return n(0).extendClass(s,{fxPath:function(t,e,n,i,s){return this.animate(new r(t),e,n,i,s)}}),r}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){var e=n(7),i=n(14),r=n(3),s=n(2),o=n(0).createClass("MotionAnimator",{base:e,constructor:function(t,e){var n=this;this.callBase({beginValue:0,finishValue:1,setter:function(t,e){var s=n.motionPath instanceof r?n.motionPath.getPathData():n.motionPath,o=i.pointAtPath(s,e);t.setTranslate(o.x,o.y),this.doRotate&&t.setRotate(o.tan.getAngle())}}),this.doRotate=e,this.motionPath=t}});return n(0).extendClass(s,{motion:function(t,e,n,i,r){return this.animate(new o(t),e,n,i,r)}}),o}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t){return n(0).createClass("EffectContainer",{base:n(10),addEffect:function(t,e){return this.addItem.apply(this,arguments)},prependEffect:function(){return this.prependItem.apply(this,arguments)},appendEffect:function(){return this.appendItem.apply(this,arguments)},removeEffect:function(t){return this.removeItem.apply(this,arguments)},addEffects:function(){return this.addItems.apply(this,arguments)},setEffects:function(){return this.setItems.apply(this,arguments)},getEffect:function(){return this.getItem.apply(this,arguments)},getEffects:function(){return this.getItems.apply(this,arguments)},getFirstEffect:function(){return this.getFirstItem.apply(this,arguments)},getLastEffect:function(){return this.getLastItem.apply(this,arguments)},handleAdd:function(t,e){var n=this.getEffects().length,i=this.getItem(e+1);n!==e+1?this.node.insertBefore(t.getNode(),i.getNode()):this.node.appendChild(t.getNode())}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(23);return n(0).createClass("GaussianblurFilter",{base:n(22),constructor:function(t){this.callBase(),this.addEffect(new r(t))}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(23),s=n(8),o=n(33),a=n(11),u=n(1),h=n(34),c=n(35);return n(0).createClass("ProjectionFilter",{base:n(22),constructor:function(t,e,n){this.callBase(),this.gaussianblurEffect=new r(t,s.INPUT_SOURCE_ALPHA),this.gaussianblurEffect.set("result","gaussianblur"),this.addEffect(this.gaussianblurEffect),this.offsetEffect=new c(e,n,this.gaussianblurEffect),this.offsetEffect.set("result","offsetBlur"),this.addEffect(this.offsetEffect),this.colorMatrixEffect=new o(o.TYPE_MATRIX,this.offsetEffect),this.colorMatrixEffect.set("values",o.MATRIX_ORIGINAL),this.colorMatrixEffect.set("result","colorOffsetBlur"),this.addEffect(this.colorMatrixEffect),this.compositeEffect=new h(h.OPERATOR_OVER,s.INPUT_SOURCE_GRAPHIC,this.colorMatrixEffect),this.addEffect(this.compositeEffect)},setColor:function(t){var e=null,n=[];if(u.isString(t)&&(t=a.parse(t)),!t)return this;e=o.MATRIX_EMPTY.split(" "),n.push(t.get("r")),n.push(t.get("g")),n.push(t.get("b"));for(var i=0,r=n.length;i<r;i++)e[5*i+3]=n[i]/255;return e[18]=t.get("a"),this.colorMatrixEffect.set("values",e.join(" ")),this},setOpacity:function(t){var e=this.colorMatrixEffect.get("values").split(" ");return e[18]=t,this.colorMatrixEffect.set("values",e.join(" ")),this},setOffset:function(t,e){this.setOffsetX(t),this.setOffsetY(e)},setOffsetX:function(t){this.offsetEffect.set("dx",t)},setOffsetY:function(t){this.offsetEffect.set("dy",t)},setDeviation:function(t){this.gaussianblurEffect.set("stdDeviation",t)}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){var i;void 0===(i=function(t,e,i){var r=n(8),s=n(1),o=n(0).createClass("ConvolveMatrixEffect",{base:r,constructor:function(t,e){this.callBase(r.NAME_CONVOLVE_MATRIX),this.set("edgeMode",s.getValue(t,o.MODE_DUPLICATE)),this.set("in",s.getValue(e,r.INPUT_SOURCE_GRAPHIC))}});return s.extend(o,{MODE_DUPLICATE:"duplicate",MODE_WRAP:"wrap",MODE_NONE:"none"}),o}.call(e,n,e,t))||(t.exports=i)}]);